import{q as J,r as s,p as Q,s as X,o as Z,v as ee,d as r,e as m,f as c,h as o,i as t,w as i,b as S,m as T,t as g,K as b,n as p}from"./index-9b6dcbe1.js";const le={class:"grid"},ae={class:"col-12"},te={class:"my-2"},se={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},oe=o("h5",{class:"m-0"},"Manage drivers",-1),ie={class:"block mt-2 md:mt-0 p-input-icon-left"},ue=o("i",{class:"pi pi-search"},null,-1),ne={class:"field mb-5"},de=o("label",{for:"first"},"first name ",-1),re={key:0,class:"p-invalid"},me={class:"field mb-5"},ce=o("label",{for:"last"},"last name ",-1),ve={key:0,class:"p-invalid"},pe={class:"field mb-5"},fe=o("label",{for:"email",class:"mb-3"},"email ",-1),_e={key:0,class:"p-invalid"},be={class:"field mb-5"},he=o("label",{for:"password",class:"mb-3"},"password ",-1),ge={key:0,class:"p-invalid"},ye={class:"field mb-5"},we=o("label",{for:"mobile",class:"mb-3"},"mobile",-1),ke={key:0,class:"p-invalid"},Ve={class:"m-auto"},xe={key:0,class:"mt-4 m-auto text-red-500"},Ce={class:"flex align-items-center justify-content-center"},Se=o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Te={key:0},Ue={setup(Pe){J(),s(null);const h=Q(),M=s(null),L=s(!0),l=s({}),P=s(""),D=s(null);s([]);const U=s({tourist_rating:Number,reviewable_id:"",type:0}),y=s(!1),w=s(!1);s(!1);const k=s(!1),R=s({}),V=s(null),O=s(null),x=s({}),u=s(!1);s([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),X(()=>{K()});const C=()=>{S.get("api/reports/accommmodition/order").then(n=>{L.value=!1,D.value=n.data.data,console.log(D.value)})},B=()=>{S.post("/api/rating/create-admin",U.value).then(n=>{C(),h.add({severity:"success",summary:"Successful",detail:"rate send",life:3e3}),w.value=!w.value}).catch(n=>{P.value=n.response.data.errors})};Z(()=>{C()});const A=()=>{y.value=!1,u.value=!1},F=()=>{u.value=!0,!(!l.value.first_name||!l.value.last_name||!l.value.email||!l.value.mobile_number)&&(l.value.id?(S.post(`/api/users/${l.value.id}/update`,l.value).then(n=>{console.log(n.data),C(),h.add({severity:"success",summary:"Successful",detail:"user updated",life:3e3})}).catch(()=>{}),h.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):S.post("/api/users/create",l.value).then(n=>{console.log(n.data),C(),h.add({severity:"success",summary:"Successful",detail:"user Created",life:3e3})}).catch(()=>{}),y.value=!1,l.value={})},N=s("gb"),z=s([{name:"English",value:"gb"},{name:"Arabic",value:"sa"},{name:"Azerbaijan",value:"az"},{name:"Georgia",value:"ge"},{name:"Russia",value:"ru"},{name:"Turkey",value:"tr"}]);s("bottom"),s([{value:1},{value:2},{value:3},{value:4},{value:5}]);const E=()=>{O.value.exportCSV()},I=()=>{M.value=M.value.filter(n=>!V.value.includes(n)),k.value=!1,V.value=null,h.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},K=()=>{x.value={global:{value:null,matchMode:ee.CONTAINS}}};return(n,a)=>{const $=r("Dropdown"),v=r("Button"),j=r("Toolbar"),G=r("Toast"),f=r("InputText"),_=r("Column"),W=r("DataTable"),q=r("Dialog"),Y=r("Rating"),H=r("va-card");return m(),c("div",le,[o("div",ae,[t(H,{class:"card"},{default:i(()=>[t(j,{class:"mb-4"},{start:i(()=>[o("div",te,[t($,{modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),editable:"",options:z.value,optionLabel:"name","option-value":"value",class:"w-36 mx-3 mx-10"},null,8,["modelValue","options"])])]),end:i(()=>[t(v,{label:"Export",icon:"pi pi-upload",class:"new",onClick:a[1]||(a[1]=e=>E())})]),_:1}),t(G),t(W,{ref_key:"dt",ref:O,selection:V.value,"onUpdate:selection":a[3]||(a[3]=e=>V.value=e),value:D.value,loading:L.value,"data-key":"id",paginator:!0,rows:10,filters:x.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:i(()=>[o("div",se,[oe,o("span",ie,[ue,t(f,{modelValue:x.value.global.value,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:i(()=>[t(_,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(_,{field:"name",header:"Name",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:i(e=>[T(g(e.data.tourist.name),1)]),_:1}),t(_,{field:"name",header:"Accommodation",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:i(e=>{var d;return[T(g((d=e.data.touaccommdation)==null?void 0:d.name[N.value]),1)]}),_:1}),t(_,{field:"name",header:"Price",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:i(e=>{var d;return[T(g((d=e.data)==null?void 0:d.price),1)]}),_:1}),t(_,{field:"name",header:"Total Cost",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:i(e=>{var d;return[T(g((d=e.data)==null?void 0:d.total_cost),1)]}),_:1}),t(_,{"header-style":"min-width:10rem;"},{body:i(e=>[o("div",null,[t(v,{disabled:"",label:"show",class:b(["pop invisible mr-2","p-button-danger"]),onClick:d=>n.shw(e.data.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(q,{visible:y.value,"onUpdate:visible":a[9]||(a[9]=e=>y.value=e),style:{width:"450px"},header:"users form",modal:!0,class:"p-fluid"},{footer:i(()=>[t(v,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:A}),t(v,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:F})]),default:i(()=>[o("div",ne,[de,t(f,{class:b(["mt-3",{"p-invalid":u.value&&!l.value.first_name}]),id:"first",modelValue:l.value.first_name,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.first_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.first_name?(m(),c("small",re,"First Name is required.")):p("",!0)]),o("div",me,[ce,t(f,{class:b(["mt-3",{"p-invalid":u.value&&!l.value.last_name}]),id:"last",modelValue:l.value.last_name,"onUpdate:modelValue":a[5]||(a[5]=e=>l.value.last_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.last_name?(m(),c("small",ve,"Last Name is required.")):p("",!0)]),o("div",pe,[fe,t(f,{class:b(["mt-3",{"p-invalid":u.value&&!l.value.email}]),id:"email",modelValue:l.value.email,"onUpdate:modelValue":a[6]||(a[6]=e=>l.value.email=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.email?(m(),c("small",_e,"Email is required.")):p("",!0)]),o("div",be,[he,t(f,{class:b(["mt-3",{"p-invalid":u.value&&!l.value.password}]),id:"password",modelValue:l.value.password,"onUpdate:modelValue":a[7]||(a[7]=e=>l.value.password=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.password?(m(),c("small",ge,"password is required.")):p("",!0)]),o("div",ye,[we,t(f,{class:b(["mt-3",{"p-invalid":u.value&&!l.value.mobile_number}]),id:"mobile",modelValue:l.value.mobile_number,"onUpdate:modelValue":a[8]||(a[8]=e=>l.value.mobile_number=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.mobile_number?(m(),c("small",ke,"mobile is required.")):p("",!0)])]),_:1},8,["visible"]),t(q,{visible:w.value,"onUpdate:visible":a[11]||(a[11]=e=>w.value=e),style:{width:"450px"},header:"rate",modal:!0},{footer:i(()=>[t(v,{label:"send",icon:"pi pi-check",class:"m-auto",onClick:B})]),default:i(()=>{var e;return[o("div",Ve,[t(Y,{class:"m-auto",modelValue:U.value.tourist_rating,"onUpdate:modelValue":a[10]||(a[10]=d=>U.value.tourist_rating=d),stars:5,cancel:!1},null,8,["modelValue"])]),(e=P.value)!=null&&e.tourist_rating?(m(),c("div",xe,g(P.value.tourist_rating[0]),1)):p("",!0)]}),_:1},8,["visible"]),t(q,{visible:k.value,"onUpdate:visible":a[13]||(a[13]=e=>k.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:i(()=>[t(v,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[12]||(a[12]=e=>k.value=!1)}),t(v,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:I})]),default:i(()=>[o("div",Ce,[Se,R.value?(m(),c("span",Te,"Are you sure you want to delete the selected products?")):p("",!0)])]),_:1},8,["visible"])]),_:1})])])}}};export{Ue as default};
