import{p as R,r as o,q as U,s as E,o as j,v as z,d as i,e as u,f as m,h as d,i as t,w as a,b as y,m as p,t as v,K as x,n as T}from"./index-9b6dcbe1.js";import"./pagination-25b2bd0b.js";const W={class:"grid"},q={class:"col-12"},G=d("div",{class:"my-2"},null,-1),Y={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},H=d("h5",{class:"m-0"},"Manage tourist ",-1),J={class:"block mt-2 md:mt-0 p-input-icon-left"},Q=d("i",{class:"pi pi-search"},null,-1),X={key:0},Z={key:1},ee={key:0},te={class:"flex align-items-center justify-content-center"},oe=d("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ae={key:0},ie={setup(se){const N=R();o({}),o(null);const h=o(!0);o({});const b=o(null);o(!1),o(!1);const c=o(!1),S=o({}),g=o(null),k=o(null),w=o(""),_=o({});U(),o(!1),o([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),E(()=>{M()});const f=()=>{y.get("/api/tourists").then(n=>{h.value=!1,b.value=n.data.tourists,console.log(b.value)})},D=n=>{h.value=!0,y.post(`/api/drivers/${n.id}/active`).then(s=>{f()})},P=n=>{h.value=!0,y.post(`/api/drivers/${n.id}/inActive`).then(s=>{f()})};j(()=>{f()});const V=n=>{w.value=n,c.value=!0},$=()=>{k.value.exportCSV()},L=()=>{y.delete(`/api/tourists/${w.value}/delete`),f(),c.value=!1,N.add({severity:"success",summary:"Successful",detail:"torist Deleted",life:3e3})},M=()=>{_.value={global:{value:null,matchMode:z.CONTAINS}}};return(n,s)=>{const r=i("Button"),O=i("Toolbar"),B=i("Toast"),A=i("InputText"),l=i("Column"),F=i("DataTable"),I=i("Dialog"),K=i("va-card");return u(),m("div",W,[d("div",q,[t(K,{class:"card"},{default:a(()=>[t(O,{class:"mb-4"},{start:a(()=>[G]),end:a(()=>[t(r,{label:"Export",icon:"pi pi-upload",class:"new",onClick:s[0]||(s[0]=e=>$())})]),_:1}),t(B),t(F,{ref_key:"dt",ref:k,selection:g.value,"onUpdate:selection":s[2]||(s[2]=e=>g.value=e),value:b.value,loading:h.value,"data-key":"id",paginator:!0,rows:10,filters:_.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:a(()=>[d("div",Y,[H,d("span",J,[Q,t(A,{modelValue:_.value.global.value,"onUpdate:modelValue":s[1]||(s[1]=e=>_.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:a(()=>[t(l,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(l,{field:"Nationality",header:"Nationality",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[p(v(e.data.nationality),1)]),_:1}),t(l,{field:"name",header:"Name",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[p(v(e.data.name),1)]),_:1}),t(l,{field:"gender",header:"Gender",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[e.data.gender==1?(u(),m("span",X," Men ")):(u(),m("span",Z," Women "))]),_:1}),t(l,{field:"email",header:"Email",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[p(v(e.data.email),1)]),_:1}),t(l,{field:"Country",header:"Country",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[p(v(e.data.Country),1)]),_:1}),t(l,{field:"City",header:"City",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:a(e=>[p(v(e.data.bio),1)]),_:1}),t(l,{"header-style":"min-width:10rem;"},{body:a(e=>[e.data.status==-1?(u(),m("div",ee,[t(r,{icon:"pi pi-times",class:x(["p-button-rounded mr-2","p-button-danger"]),onClick:C=>P(e.data)},null,8,["onClick"]),t(r,{icon:"pi pi-check",class:x(["p-button-rounded mr-2","p-button-success"]),onClick:C=>D(e.data)},null,8,["onClick"])])):T("",!0)]),_:1}),t(l,{"header-style":"min-width:10rem;"},{body:a(e=>[t(r,{icon:"pi pi-trash",class:"delete mt-2",onClick:C=>V(e.data.id)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(I,{visible:c.value,"onUpdate:visible":s[4]||(s[4]=e=>c.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[t(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[3]||(s[3]=e=>c.value=!1)}),t(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:L})]),default:a(()=>[d("div",te,[oe,S.value?(u(),m("span",ae,"Are you sure you want to delete the selected products?")):T("",!0)])]),_:1},8,["visible"])]),_:1})])])}}};export{ie as default};
