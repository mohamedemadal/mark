import{r as a,p as Z,q as ee,s as te,o as oe,b as C,v as se,d as c,e as h,f as _,h as e,i as s,w as n,t as d,n as f,m as p,F as ae,k as le,j,x as re,y as ne}from"./index-9b6dcbe1.js";import{h as G}from"./moment-fbc5633a.js";const ie={class:"grid"},de={class:"col-12"},ce={class:"p-2 my-2"},ue={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},pe={class:"flex space-x-3"},he=e("h3",{class:"my-auto text-xl"},"Date :",-1),_e=e("p",{class:"text-lg my-auto"},"to",-1),me={class:"card flex justify-content-center"},ve={class:"card flex justify-content-center"},ge={class:"flex items-center"},we={key:0,class:"mt-1 mb-5 text-red-500"},fe={class:"m-auto"},ye={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},xe={class:"flex"},ke=e("h5",{class:"my-auto px-5"}," Orders",-1),be={class:"my-auto px-1"},Ce={class:"block mt-2 md:mt-0 p-input-icon-left"},Ve=e("i",{class:"pi pi-search"},null,-1),Se={key:0},Me={key:1},Re=p("01 "),De=p(" INVOICE "),Le={class:""},je={class:"card"},Ge=e("p",{class:"px-1"},"Day",-1),Te=e("svg",{width:"34px",height:"30px",viewBox:"0 0 24 24",fill:"#6C757D",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#6C757D","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Be={class:"flex justify-between"},Ie={class:"flex"},Oe=e("h2",{class:"text-lg my-auto"},"city",-1),Fe=e("p",{class:"my-auto text-[black] text-xl px-1"},":",-1),Ne={class:"my-auto"},Pe={class:"flex"},Ue=e("h2",{class:"text-lg"},"price",-1),Ae=e("svg",{width:"34px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Ye={class:"my-auto"},He={key:0,class:"flex"},Ee=e("h2",{class:"text-lg"},"routing",-1),$e=e("svg",{width:"34px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Je={class:"my-auto"},Ke=e("div",null,[e("p",{class:"text-xl font-bold text-[black] py-2"},"Invoice information")],-1),qe={class:"flex"},We=e("h2",{class:"text-xl"},"Fees ",-1),ze=e("svg",{width:"54px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Qe={class:"my-auto"},Xe={class:"flex"},Ze=e("h2",{class:"text-xl"},"Tax ",-1),et=e("svg",{width:"54px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),tt={class:"my-auto"},ot={class:"flex"},st=e("h2",{class:"text-xl"},"Total price ",-1),at=e("svg",{width:"54px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),lt={class:"my-auto"},rt={class:"flex"},nt=e("h2",{class:"text-xl"},"Total cost ",-1),it=e("svg",{width:"54px",height:"34px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"24",height:"24",fill:"white"}),e("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),dt={class:"my-auto"},ht={setup(ct){a("");const y=a([]);Z();const T=ee(),B=a(),I=a();a(null);const x=a(null),O=a("null");a(),a("gb");const V=a(!0),i=a({end_date:"",start_date:"",status:"",user_type:"",country_id:""}),k=a({});a(null);const S=a(!1);a(!1),a(!1),a({});const M=a(null),R=a(null),w=a({});a(!1),a([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),a();const F=a([{name:"driver",code:"1"},{name:"guides",code:"2"},{name:"All",code:" "}]),N=a([{name:"pending",code:"1"},{name:"approved",code:"2"},{name:"rejected",code:"3"},{name:"expired",code:"4"},{name:"paid",code:"5"},{name:"canceled",code:"6"}]),P=()=>{const r=getComputedStyle(document.documentElement);return{labels:["January","February","March","April","May","June","July"],datasets:[{label:"mursheed incom",fill:!1,borderColor:r.getPropertyValue("--blue-500"),yAxisID:"y",tension:.4,data:[65,59,80,81,56,55,10]},{label:"mursheed incom",fill:!1,borderColor:r.getPropertyValue("--red-500"),yAxisID:"y",tension:.4,data:[62,23,15,81,68,85,30]}]}},U=()=>{const r=getComputedStyle(document.documentElement),l=r.getPropertyValue("--text-color"),g=r.getPropertyValue("--text-color-secondary"),m=r.getPropertyValue("--surface-border");return{maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:g},grid:{color:m}},y:{ticks:{color:g},grid:{color:m}}}}};te(()=>{J()});const A=()=>{C.get("/api/orders").then(r=>{V.value=!1,x.value=r.data.orders})};oe(()=>{B.value=P(),I.value=U(),A()}),C.get("/api/countries").then(r=>{y.value=r.data.countries,console.log(y.value)});const Y=()=>{window.location.reload()},H=r=>{switch(r.status){case 1:return"warning";case 2:return"success";case 3:return"primary";case 4:return"danger";case 5:return"info";case 6:return"secondary";default:return null}},v=()=>{i.value.start_date&&(i.value.start_date=G(i.value.start_date).format("YYYY-MM-DD")),i.value.end_date&&(i.value.end_date=G(i.value.end_date).format("YYYY-MM-DD")),C.post("/api/reports/fillter",i.value).then(r=>{x.value=r.data.filterData}).catch(r=>{error.value=r.response.data.errors,console.log(error.value)})},E=()=>{T.push({name:"print"})},$=()=>{R.value.exportCSV()},J=()=>{w.value={global:{value:null,matchMode:se.CONTAINS}}};return(r,l)=>{const g=c("Calendar"),m=c("Dropdown"),b=c("Button"),D=c("va-card"),K=c("Toast"),q=c("InputText"),u=c("Column"),W=c("Tag"),z=c("router-link"),Q=c("DataTable"),X=c("Dialog");return h(),_("div",ie,[e("div",de,[s(D,null,{default:n(()=>{var t;return[e("div",ce,[e("div",ue,[e("div",pe,[he,e("div",null,[s(g,{modelValue:i.value.start_date,"onUpdate:modelValue":[l[0]||(l[0]=o=>i.value.start_date=o),v],dateFormat:"dd/mm/yy"},null,8,["modelValue"])]),_e,e("div",null,[s(g,{modelValue:i.value.end_date,"onUpdate:modelValue":[l[1]||(l[1]=o=>i.value.end_date=o),v],dateFormat:"dd/mm/yy"},null,8,["modelValue"])]),e("div",me,[s(m,{onChange:v,modelValue:i.value.user_type,"onUpdate:modelValue":l[2]||(l[2]=o=>i.value.user_type=o),"option-value":"code",options:F.value,optionLabel:"name",placeholder:"client",class:"w-full md:w-14rem"},null,8,["modelValue","options"])]),e("div",ve,[s(m,{onChange:v,modelValue:i.value.status,"onUpdate:modelValue":l[3]||(l[3]=o=>i.value.status=o),"option-value":"code",options:N.value,optionLabel:"name",placeholder:"status",class:"w-full md:w-14rem"},null,8,["modelValue","options"])]),e("div",ge,[s(m,{placeholder:"country",onChange:v,modelValue:i.value.country_id,"onUpdate:modelValue":l[4]||(l[4]=o=>i.value.country_id=o),editable:"",options:y.value,optionLabel:"country","option-value":"country_id",class:"w-48"},null,8,["modelValue","options"]),(t=r.error)!=null&&t.country_id?(h(),_("div",we,d(r.error.country_id[0]),1)):f("",!0)]),e("div",fe,[s(b,{label:"clear",class:"new m-auto",icon:"pi pi-times",onClick:Y})])])])])]}),_:1}),s(D,{class:"card"},{default:n(()=>[s(K),s(Q,{ref_key:"dt",ref:R,selection:M.value,"onUpdate:selection":l[7]||(l[7]=t=>M.value=t),value:x.value,loading:V.value,"data-key":"id",paginator:!0,rows:10,filters:w.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[e("div",ye,[e("div",xe,[ke,s(b,{style:{transform:"scale(.8)"},label:"print",class:"new m-auto",icon:"pi pi-print",onClick:E}),e("div",be,[s(b,{style:{transform:"scale(.8)"},label:"Export",icon:"pi pi-upload",class:"new",onClick:l[5]||(l[5]=t=>$())})])]),e("span",Ce,[Ve,s(q,{modelValue:w.value.global.value,"onUpdate:modelValue":l[6]||(l[6]=t=>w.value.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[s(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),s(u,{field:"id",header:"Id",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.id),1)]}),_:1}),s(u,{field:"vendor",header:"Vendor",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.vendor),1)]}),_:1}),s(u,{field:"vendor",header:"Type",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o,L;return[((o=t.data)==null?void 0:o.user_type)=="App\\Models\\Driver"?(h(),_("p",Se,"Driver")):f("",!0),((L=t.data)==null?void 0:L.user_type)=="App\\Models\\Guides"?(h(),_("p",Me,"guide")):f("",!0)]}),_:1}),s(u,{field:"tourist",header:"Tourist",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.tourist_name),1)]}),_:1}),s(u,{field:"cost",header:"Cost",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.cost),1)]}),_:1}),s(u,{field:"start date",header:"Start date",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.start_date),1)]}),_:1}),s(u,{field:"end date",header:"End date",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>{var o;return[p(d((o=t.data)==null?void 0:o.end_date),1)]}),_:1}),s(u,{field:"status",header:"Status",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(t=>[s(W,{value:t.data.status==1?"pending":t.data.status==2?"approved":t.data.status==3?"rejected":t.data.status==1?"expired ":t.data.status==1?"canceled":"paid",severity:H(t.data)},null,8,["value","severity"])]),default:n(()=>[Re]),_:1}),s(u,{"header-style":"min-width:10rem;"},{body:n(t=>[s(z,{class:"p-2 text-white rounded-md bg-[#098071]",to:{name:"invioce",params:{id:t.data.id}},target:"_blank"},{default:n(()=>[De]),_:2},1032,["to"])]),_:1})]),_:1},8,["selection","value","loading","filters"]),s(X,{visible:S.value,"onUpdate:visible":l[8]||(l[8]=t=>S.value=t),style:{width:"570px"},header:"order details",modal:!0,class:"p-fluid"},{default:n(()=>[e("div",Le,[(h(!0),_(ae,null,le(i.value,(t,o)=>(h(),_("div",je,[s(j(re),{activeIndex:1},{default:n(()=>[s(j(ne),null,{header:n(()=>[Ge,e("span",null,d(o+1),1),Te,e("p",null,d(t.date),1)]),default:n(()=>[e("div",Be,[e("div",Ie,[Oe,Fe,e("p",Ne,d(t.state),1)]),e("div",Pe,[Ue,Ae,e("p",Ye,d(t.price_city)+" $",1)]),t.routing!=0?(h(),_("div",He,[Ee,$e,e("p",Je,d(t.routing)+" $",1)])):f("",!0)])]),_:2},1024)]),_:2},1024)]))),256)),Ke,e("div",qe,[We,ze,e("p",Qe,d(k.value.fees)+" %",1)]),e("div",Xe,[Ze,et,e("p",tt,d(k.value.tax)+" %",1)]),e("div",ot,[st,at,e("p",lt,d(k.value.price)+" $",1)]),e("div",rt,[nt,it,e("p",dt,d(O.value)+" $",1)])])]),_:1},8,["visible"])]),_:1})])])}}};export{ht as default};
