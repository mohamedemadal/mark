import{p as S,r as e,H as T,d as l,e as g,C as B,w as C,h as n,L as k,i,f as D,t as N,n as E,m as F,b as v}from"./index-9b6dcbe1.js";import{v as j,p as z,a as A}from"./filepond-plugin-image-preview.esm-229deca5.js";const I={class:"flex justify-center"},L=["onSubmit"],U={class:"pb-4 text-center va-text-bold"},$=F(" create category "),G={class:""},H=n("label",{for:"password"},"name ",-1),M={key:0,class:"mt-1 mb-5 text-red-500"},q={setup(P){j(A,z);const _=S(),c=e({name:""}),u=e(0);e(""),e(""),e("");const o=e({}),t=e("");e(0),e([]),e(0);const b=e([]);e(null);const h=e([{name:"English",value:"gb"},{name:"Arabic",value:"sa"},{name:"Azerbaijan",value:"az"},{name:"Georgia",value:"ge"},{name:"Russia",value:"ru"},{name:"Turkey",value:"tr"}]),r=e("gb"),y=()=>{const s=new FormData;s.append("name",c.value.name),u.value?(v.defaults.headers.common.local=r.value,v.post(`/api/accommodition_category/${o.value.id}/update`,s).then(a=>{t.value=[],u.value=1,o.value=a.data.flight,_.add({severity:"success",summary:"Successful",detail:"Flight Created",life:3e3})}).catch(a=>{t.value=a.response.data.errors,console.log(t.value)})):(v.defaults.headers.common.local="gb",console.log(b.value[0]),v.post("/api/accommodition_category/create",s).then(a=>{t.value=[],u.value=1,o.value=a.data.flight,console.log(o.value),_.add({severity:"success",summary:"Successful",detail:"category Created",life:3e3})}).catch(a=>{t.value=a.response.data.errors,console.log(t.value)}))};return T(r,async(s,a)=>{var d,m;console.log(o.value),u.value&&(c.value.name=((d=o.value)==null?void 0:d.name[s])==null?"":(m=o.value)==null?void 0:m.name[s])}),(s,a)=>{const d=l("Dropdown"),m=l("InputText"),x=l("Button"),w=l("Toast"),V=l("va-card");return g(),B(V,{class:"card"},{default:C(()=>{var f;return[n("div",I,[n("form",{onSubmit:k(y,["prevent"]),class:"flex flex-col w-3/4 py-9"},[n("h2",U,[$,i(d,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=p=>r.value=p),editable:"",options:h.value,optionLabel:"name","option-value":"value",class:"w-28 mx-3 mx-10"},null,8,["modelValue","options"])]),n("div",G,[H,i(m,{modelValue:c.value.name,"onUpdate:modelValue":a[1]||(a[1]=p=>c.value.name=p),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(f=t.value)!=null&&f.name?(g(),D("div",M,N(t.value.name[0]),1)):E("",!0)]),i(x,{type:"submit",label:"Submit",class:"mt-3"})],40,L)]),i(w)]}),_:1})}}};export{q as default};
