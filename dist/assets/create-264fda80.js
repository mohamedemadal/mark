import{p as T,r as a,H as k,d as c,e as h,C as B,w as D,h as o,L as U,i,f as F,t as L,n as N,b as p}from"./index-9b6dcbe1.js";const j={class:"flex justify-center"},q=["onSubmit"],z={class:"w-full flex justify-between"},E=o("h2",{class:"text-xl font-bold"}," Create Offer ",-1),I={class:""},O=o("label",{for:"password"},"Title ",-1),H={key:0,class:"mt-1 mb-5 text-red-500"},M={class:"card w-full"},$=o("label",{for:"password"},"message ",-1),A=o("label",{for:"password"},"type ",-1),G=o("label",{for:"password"},"priority ",-1),P={setup(J){const y=T(),l=a({message:"",title:"",type:"",priority:""}),m=a(0);a(""),a([]);const r=a({}),n=a("");a(0),a(0);const _=a([]);a("");const w=a([{name:"en",value:"gb"},{name:"ar",value:"sa"},{name:"az",value:"az"},{name:"ge",value:"ge"},{name:"ru",value:"ru"},{name:"tr",value:"tr"}]),v=a("gb"),b=a([{name:"sales",code:"sales"},{name:"issue",code:"issue"},{name:"inquire",code:"inquire"}]),x=()=>{const u=new FormData;u.append("title",l.value.title),u.append("message",l.value.message),u.append("type",l.value.type),u.append("priority",l.value.priority),console.log("mohamed"),p.post("/api/tickets/store",u).then(t=>{y.add({severity:"success",summary:"Successful",detail:"Offer Created",life:3e3})}).catch(t=>{n.value=t.response.data.errors,console.log(n.value)})};return k(v,async(u,t)=>{const s=new FormData;for(let e=0;e<_.value.length;e++)s.append("images[]",_.value[e]);s.append("number",offer.value.number),s.append("title",offer.value.title),s.append("status",offer.value.status),s.append("price",offer.value.price),m.value?(p.defaults.headers.common.local=v.value,p.post(`/api/flights/${r.value.id}/update`,s).then(e=>{n.value=[],m.value=1,r.value=e.data.flight,y.add({severity:"success",summary:"Successful",detail:"Flight Created",life:3e3})}).catch(e=>{n.value=e.response.data.errors,console.log(n.value)})):(p.defaults.headers.common.local=t,console.log(_.value[0]),p.post("/api/offers/create",s).then(e=>{n.value=[],m.value=1,r.value=e.data.offers,console.log(r.value),y.add({severity:"success",summary:"Successful",detail:"Flight Created",life:3e3})}).then(()=>{var e,f;console.log(m.value),offer.value.title=((e=r.value)==null?void 0:e.title[u])==null?"":(f=r.value)==null?void 0:f.title[u],console.log(accommodition)}).catch(e=>{n.value=e.response.data.errors,console.log(n.value)}))}),(u,t)=>{const s=c("Dropdown"),e=c("InputText"),f=c("Textarea"),V=c("Button"),S=c("Toast"),C=c("va-card");return h(),B(C,{class:"card"},{default:D(()=>{var g;return[o("div",j,[o("form",{onSubmit:U(x,["prevent"]),class:"flex flex-col w-3/4 py-9"},[o("div",z,[E,i(s,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=d=>v.value=d),editable:"",options:w.value,optionLabel:"name","option-value":"value",class:"w-28 mx-3"},null,8,["modelValue","options"])]),o("div",I,[O,i(e,{modelValue:l.value.title,"onUpdate:modelValue":t[1]||(t[1]=d=>l.value.title=d),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(g=n.value)!=null&&g.title?(h(),F("div",H,L(n.value.title[0]),1)):N("",!0)]),o("div",M,[$,i(f,{class:"w-full my-3",modelValue:l.value.message,"onUpdate:modelValue":t[2]||(t[2]=d=>l.value.message=d),rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",null,[A,i(s,{placeholder:"please select type",modelValue:l.value.type,"onUpdate:modelValue":t[3]||(t[3]=d=>l.value.type=d),editable:"",options:b.value,optionLabel:"code","option-value":"name",class:"w-full my-3"},null,8,["modelValue","options"])]),o("div",null,[G,i(s,{placeholder:"please select type",modelValue:l.value.type,"onUpdate:modelValue":t[4]||(t[4]=d=>l.value.type=d),editable:"",options:b.value,optionLabel:"code","option-value":"country_id",class:"w-full my-3"},null,8,["modelValue","options"])]),i(V,{type:"submit",label:"Submit",class:"mt-3"})],40,q)]),i(S)]}),_:1})}}};export{P as default};
