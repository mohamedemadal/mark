import{p as G,q as H,r as i,s as J,o as Q,v as X,d,e as r,f as m,h as s,i as l,w as u,b as y,m as g,t as D,j as Z,C as ee,n as v,K as _}from"./index-9b6dcbe1.js";import{h as te}from"./moment-fbc5633a.js";const le={class:"grid"},ae={class:"col-12"},se=s("div",{class:"my-2"},null,-1),oe={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},ie=s("h5",{class:"m-0"},"Manage Ticket",-1),ue={class:"block mt-2 md:mt-0 p-input-icon-left"},ne=s("i",{class:"pi pi-search"},null,-1),de={class:"field mb-5"},re=s("label",{for:"first"},"first name ",-1),ce={key:0,class:"p-invalid"},me={class:"field mb-5"},ve=s("label",{for:"last"},"last name ",-1),pe={key:0,class:"p-invalid"},fe={class:"field mb-5"},_e=s("label",{for:"email",class:"mb-3"},"email ",-1),be={key:0,class:"p-invalid"},he={class:"field mb-5"},ye=s("label",{for:"password",class:"mb-3"},"password ",-1),ge={key:0,class:"p-invalid"},ke={class:"field mb-5"},we=s("label",{for:"mobile",class:"mb-3"},"mobile",-1),Ce={key:0,class:"p-invalid"},xe={class:"flex align-items-center justify-content-center"},Ve=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Te={key:0},Se=g("Are you sure you want to delete "),De=g("?"),Me={class:"flex align-items-center justify-content-center"},Ne=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Ue={key:0},Ae={setup(qe){const b=G(),q=H(),N=i(null),U=i(null);i([{name:"en",value:"gb"},{name:"ar",value:"sa"},{name:"az",value:"az"},{name:"ge",value:"ge"},{name:"ru",value:"ru"},{name:"tr",value:"tr"}]),i("gb");const k=i(!0),t=i({});i(null);const w=i(!1),C=i(!1),x=i(!1),P=i({}),V=i(null),L=i(null),T=i({}),n=i(!1);i([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),i("pi pi-check"),J(()=>{F()});const A=o=>{q.push({name:"ticket-show",params:{id:o}}),console.log(o)},B=o=>{y.get(`api/tickets/inActiveTicket/${o}`).then(a=>{h()})},h=()=>{y.get("api/tickets").then(o=>{k.value=!1,U.value=o.data.tickets})};Q(()=>{h()});const O=o=>{switch(o.status){case 1:return"success";case-1:return"warning";case 0:return"danger";default:return null}},$=()=>{w.value=!1,n.value=!1},Y=()=>{n.value=!0,!(!t.value.first_name||!t.value.last_name||!t.value.email||!t.value.mobile_number)&&(t.value.id?(y.post(`/api/accommodition/${accommodition.value.id}/update`,t.value).then(o=>{console.log(o.data),h(),b.add({severity:"success",summary:"Successful",detail:"user updated",life:3e3})}).catch(()=>{}),b.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):y.post("/api/users/create",t.value).then(o=>{console.log(o.data),h(),b.add({severity:"success",summary:"Successful",detail:"user Created",life:3e3})}).catch(()=>{}),w.value=!1,t.value={})},j=()=>{k.value=!0,y.delete(`/api/offers/${t.value.id}/delete`).then(o=>{console.log(o.data),C.value=!1,h(),k.value=!1,b.add({severity:"success",summary:"Successful",detail:"offer deleted",life:3e3})}).catch(()=>{})},z=()=>{N.value=N.value.filter(o=>!V.value.includes(o)),x.value=!1,V.value=null,b.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},F=()=>{T.value={global:{value:null,matchMode:X.CONTAINS}}};return(o,a)=>{const I=d("Toolbar"),K=d("Toast"),f=d("InputText"),p=d("Column"),R=d("Tag"),c=d("Button"),E=d("DataTable"),M=d("Dialog"),W=d("va-card");return r(),m("div",le,[s("div",ae,[l(W,{class:"card"},{default:u(()=>[l(I,{class:"mb-4"},{start:u(()=>[se]),_:1}),l(K),l(E,{ref_key:"dt",ref:L,selection:V.value,"onUpdate:selection":a[1]||(a[1]=e=>V.value=e),value:U.value,loading:k.value,"data-key":"id",paginator:!0,rows:10,filters:T.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:u(()=>[s("div",oe,[ie,s("span",ue,[ne,l(f,{modelValue:T.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>T.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:u(()=>[l(p,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(p,{field:"number",header:"Ticket Id",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:u(e=>{var S;return[g(D((S=e.data)==null?void 0:S.number),1)]}),_:1}),l(p,{field:"title",header:"Subject",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:u(e=>[g(D(e.data.title),1)]),_:1}),l(p,{field:"status",header:"Status",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:u(e=>[l(R,{value:e.data.status==1?"Active":e.data.status==0?"Closed":"pending",severity:O(e.data)},null,8,["value","severity"])]),_:1}),l(p,{field:"title",header:"Created At",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:u(e=>[g(D(Z(te)(e.data.user.created_at).format("DD-MM-YYYY")),1)]),_:1}),l(p,{"header-style":"min-width:10rem;"},{body:u(e=>[e.data.status!=0?(r(),ee(c,{key:0,label:"Close",class:"p-button-rounded mr-2",onClick:S=>B(e.data.id)},null,8,["onClick"])):v("",!0)]),_:1}),l(p,{"header-style":"min-width:10rem;"},{body:u(e=>[s("div",null,[l(c,{label:"show",class:_(["pop mr-2","p-button-danger"]),onClick:S=>A(e.data.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["selection","value","loading","filters"]),l(M,{visible:w.value,"onUpdate:visible":a[7]||(a[7]=e=>w.value=e),style:{width:"450px"},header:"users form",modal:!0,class:"p-fluid"},{footer:u(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:$}),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:Y})]),default:u(()=>[s("div",de,[re,l(f,{class:_(["mt-3",{"p-invalid":n.value&&!t.value.first_name}]),id:"first",modelValue:t.value.first_name,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.first_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),n.value&&!t.value.first_name?(r(),m("small",ce,"First Name is required.")):v("",!0)]),s("div",me,[ve,l(f,{class:_(["mt-3",{"p-invalid":n.value&&!t.value.last_name}]),id:"last",modelValue:t.value.last_name,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.last_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),n.value&&!t.value.last_name?(r(),m("small",pe,"Last Name is required.")):v("",!0)]),s("div",fe,[_e,l(f,{class:_(["mt-3",{"p-invalid":n.value&&!t.value.email}]),id:"email",modelValue:t.value.email,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.email=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),n.value&&!t.value.email?(r(),m("small",be,"Email is required.")):v("",!0)]),s("div",he,[ye,l(f,{class:_(["mt-3",{"p-invalid":n.value&&!t.value.password}]),id:"password",modelValue:t.value.password,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.password=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),n.value&&!t.value.password?(r(),m("small",ge,"password is required.")):v("",!0)]),s("div",ke,[we,l(f,{class:_(["mt-3",{"p-invalid":n.value&&!t.value.mobile_number}]),id:"mobile",modelValue:t.value.mobile_number,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.mobile_number=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),n.value&&!t.value.mobile_number?(r(),m("small",Ce,"mobile is required.")):v("",!0)])]),_:1},8,["visible"]),l(M,{visible:C.value,"onUpdate:visible":a[9]||(a[9]=e=>C.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:u(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[8]||(a[8]=e=>C.value=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:j})]),default:u(()=>[s("div",xe,[Ve,t.value?(r(),m("span",Te,[Se,s("b",null,D(t.value.first_name),1),De])):v("",!0)])]),_:1},8,["visible"]),l(M,{visible:x.value,"onUpdate:visible":a[11]||(a[11]=e=>x.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:u(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[10]||(a[10]=e=>x.value=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:z})]),default:u(()=>[s("div",Me,[Ne,P.value?(r(),m("span",Ue,"Are you sure you want to delete the selected products?")):v("",!0)])]),_:1},8,["visible"])]),_:1})])])}}};export{Ae as default};
