import{p as ne,r as i,H as Z,o as ue,b as p,d as h,e as c,C as de,w as ee,h as s,L as ie,i as v,f as m,t as y,n as g,k as ae,F as oe,m as re}from"./index-9b6dcbe1.js";const ce={class:"flex justify-center"},ve=["onSubmit"],me={class:"pb-4 text-center va-text-bold"},pe=re(" Create Accommodition "),_e={class:""},fe=s("label",{for:"password"},"Name ",-1),ge={key:0,class:"mt-1 mb-5 text-red-500"},ye={class:""},be=s("label",{for:"password"},"Room Type ",-1),he={key:0,class:"mt-1 mb-5 text-red-500"},xe={class:""},we=s("label",{for:"password"},"Owner information ",-1),Ve={key:0,class:"mt-1 mb-5 text-red-500"},Ue={class:""},ke=s("label",{for:"password"},"Description ",-1),Se={key:0,class:"mt-1 mb-5 text-red-500"},Ce={class:"mb-5"},Te=s("label",{for:"password"},"Address ",-1),qe={key:0,class:"mt-1 mb-5 text-red-500"},Fe={class:"mb-5"},Le=s("label",{for:"password"},"Rooms ",-1),Ne={key:0,class:"mt-1 mb-5 text-red-500"},Ae={class:""},Be={class:"py-2 grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3"},De={class:"flex items-center"},Ie=s("label",{class:"mx-2"}," Country ",-1),je={key:0,class:"mt-1 mb-5 text-red-500"},Re={class:"flex items-center"},$e=s("label",{class:"mx-2"},"City ",-1),ze={key:0,class:"mt-1 mb-5 text-red-500"},Ee={class:"flex items-center"},Me=s("label",{class:"mx-2"},"Category ",-1),Oe={key:0,class:"mt-1 mb-5 text-red-500"},Ge=["src"],He=["src"],Pe={key:0,class:"mt-1 mb-5 text-red-500"},Qe={class:"flex justify-between mt-4"},Je={class:"flex items-center"},Ke=s("label",{class:"mx-2"}," available ",-1),We={class:"flex items-center"},Xe=s("label",{class:"mx-2"}," show detailed information in mobile ",-1),ea={setup(Ye){const D=ne(),a=i({name:"",owner_info:"",description:"",address:"",rooms:"",city_id:1}),x=i(0),I=i([]),w=i("");i("moahmed");const U=i(""),z=i(""),k=i(""),j=i([]),R=i([]),S=i([]),n=i({name:"",owner_info:"",description:"",address:"",rooms:"",city_id:1,room_type:""}),_=i(!0),f=i(!0);i(0),i(0);const b=i([]),E=i([{name:"English",value:"gb"},{name:"Arabic",value:"sa"},{name:"Azerbaijan",value:"az"},{name:"Georgia",value:"ge"},{name:"Russia",value:"ru"},{name:"Turkey",value:"tr"}]),q=i(!1),V=i("gb"),l=i([]),le=d=>{console.log(d.files[0]),b.value=d.files,z.value=d.files;for(let e=0;e<b.value.length;e++)j.value.push(URL.createObjectURL(b.value[e]));console.log(j.value)};var te=d=>new Promise(function(e,t){console.log(a),p.defaults.headers.common.local=d,console.log(b.value[0]);const o=new FormData;console.log(b);for(let r=0;r<b.value.length;r++)o.append("images[]",b.value[r]);o.append("name",a.value.name),o.append("owner_info",a.value.owner_info),o.append("description",a.value.description),o.append("address",a.value.address),o.append("room_type",a.value.room_type),_.value==!0&&(console.log("sac"),_.value=1,o.append("aval_status",_.value)),f.value==!0&&(f.value=1,o.append("info_status",f.value)),o.append("country_id",w.value),o.append("state_id",U.value),o.append("rooms",a.value.rooms),o.append("city_id",a.value.city_id),o.append("category_accommodations_id",k.value),x.value?(p.defaults.headers.common.local=d,p.post(`/api/accommodition/${n.value.id}/update`,o).then(r=>{l.value=[],x.value=1,n.value=r.data.accommmodition,console.log(n.value),D.add({severity:"success",summary:"Successful",detail:"Accommodation Created",life:3e3})}).catch(r=>{q.value&&(l.value=r.response.data.errors,q.value=!1),console.log(l.value)})):(p.defaults.headers.common.local=V.value,p.post("/api/accommodition/create",o,a.value).then(r=>{l.value=[],x.value=1,n.value=r.data.accommmodition,console.log(n.value),a.value="",w.value="",U.value="",b.value="",k.value="",D.add({severity:"success",summary:"Successful",detail:"Accommodation Created",life:3e3})}).catch(r=>{q.value&&(l.value=r.response.data.errors,q.value=!1),console.log(l.value)}))});Z(V,async(d,e)=>{const t=new FormData;t.append("name",a.value.name),t.append("owner_info",a.value.owner_info),t.append("description",a.value.description),t.append("address",a.value.address),t.append("country_id",w.value),t.append("state_id",U.value),t.append("rooms",a.value.rooms),t.append("city_id",a.value.city_id),t.append("room_type",a.value.room_type),_.value==!0&&(console.log("sac"),_.value=1,t.append("aval_status",_.value)),f.value==!0&&(f.value=1,t.append("info_status",f.value)),_.value==!1&&(console.log("sac"),_.value=0,t.append("aval_status",_.value)),f.value==!1&&(f.value=0,t.append("info_status",f.value)),t.append("category_accommodations_id",k.value),x.value?(p.defaults.headers.common.local=V.value,p.post(`/api/flights/${n.value.id}/update`,t).then(o=>{l.value=[],x.value=1,n.value=o.data.flight}).catch(o=>{l.value=o.response.data.errors,console.log(l.value)})):(p.defaults.headers.common.local=e,console.log(b.value[0]),p.post("/api/accommodition/create",t).then(o=>{l.value=[],x.value=1,n.value=o.data.flight,console.log(n.value),D.add({severity:"success",summary:"Successful",detail:"Flight Created",life:3e3})}).then(()=>{var o,r,F,L,C,N,A,B,T;console.log(x.value),console.log((o=n==null?void 0:n.value)==null?void 0:o.description),a.value.description=((r=n.value)==null?void 0:r.description[d])==null?"":(F=n.value)==null?void 0:F.description[d],a.value.name=((L=n.value)==null?void 0:L.name[d])==null?"":(C=n.value)==null?void 0:C.name[d],a.value.address=((N=n.value)==null?void 0:N.address[d])==null?"":(A=n.value)==null?void 0:A.address[d],a.value.owner_info=((B=n.value)==null?void 0:B.owner_info[d])==null?"":(T=n.value)==null?void 0:T.owner_info[d],console.log(a)}).catch(o=>{l.value=o.response.data.errors,console.log(l.value)}))});const se=()=>{console.log(n.value),E.value.forEach(d=>{var e,t,o,r;console.log(d),((e=n.value)==null?void 0:e.description[d.value])==null||((t=n.value)==null?void 0:t.name[d.value])==null||((o=n.value)==null?void 0:o.address[d.value])==null||((r=n.value)==null?void 0:r.owner_info[d.value])==null}),te(V)};return Z(w,async(d,e)=>{console.log("hello "),p.get(`/api/state/${d}`).then(t=>{I.value=t.data.states,console.log(I.value)})}),ue(d=>{p.get("/api/countries").then(e=>{R.value=e.data.countries,console.log(R.value)}),p.get("/api/accommodition_category").then(async e=>{S.value=e.data.accommmoditions_category,S.value=S.value.map(t=>({name:t.name.gb,id:t.id})),console.log(S.value)})}),(d,e)=>{const t=h("Dropdown"),o=h("InputText"),r=h("Textarea"),F=h("InputNumber"),L=h("FileUpload"),C=h("InputSwitch"),N=h("Button"),A=h("Toast"),B=h("va-card");return c(),de(B,{class:"card"},{default:ee(()=>{var T,M,O,G,H,P,Q,J,K,W;return[s("div",ce,[s("form",{onSubmit:ie(se,["prevent"]),class:"flex flex-col w-3/4 py-9"},[s("h2",me,[pe,v(t,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=u=>V.value=u),editable:"",options:E.value,optionLabel:"name","option-value":"value",class:"w-36 mx-3 mx-10"},null,8,["modelValue","options"])]),s("div",_e,[fe,v(o,{required:"",modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.name=u),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(T=l.value)!=null&&T.name?(c(),m("div",ge,y(l.value.name[0]),1)):g("",!0)]),s("div",ye,[be,v(o,{required:"",modelValue:a.value.room_type,"onUpdate:modelValue":e[2]||(e[2]=u=>a.value.room_type=u),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(M=l.value)!=null&&M.name?(c(),m("div",he,y(l.value.name[0]),1)):g("",!0)]),s("div",xe,[we,v(o,{required:"",modelValue:a.value.owner_info,"onUpdate:modelValue":e[3]||(e[3]=u=>a.value.owner_info=u),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(O=l.value)!=null&&O.owner_info?(c(),m("div",Ve,y(l.value.owner_info[0]),1)):g("",!0)]),s("div",Ue,[ke,v(r,{required:"",modelValue:a.value.description,"onUpdate:modelValue":e[4]||(e[4]=u=>a.value.description=u),rows:"5",cols:"30",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(G=l.value)!=null&&G.description?(c(),m("div",Se,y(l.value.description[0]),1)):g("",!0)]),s("div",Ce,[Te,v(o,{required:"",modelValue:a.value.address,"onUpdate:modelValue":e[5]||(e[5]=u=>a.value.address=u),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(H=l.value)!=null&&H.address?(c(),m("div",qe,y(l.value.address[0]),1)):g("",!0)]),s("div",Fe,[Le,v(F,{required:"",modelValue:a.value.rooms,"onUpdate:modelValue":e[6]||(e[6]=u=>a.value.rooms=u),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(P=l.value)!=null&&P.address?(c(),m("div",Ne,y(l.value.address[0]),1)):g("",!0)]),s("div",Ae,[s("div",Be,[s("div",De,[Ie,v(t,{required:"",modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=u=>w.value=u),editable:"",options:R.value,optionLabel:"country","option-value":"country_id",class:"w-full mx-3"},null,8,["modelValue","options"]),(Q=l.value)!=null&&Q.country_id?(c(),m("div",je,y(l.value.country_id[0]),1)):g("",!0)]),s("div",Re,[$e,v(t,{required:"",modelValue:U.value,"onUpdate:modelValue":e[8]||(e[8]=u=>U.value=u),editable:"",options:I.value,optionLabel:"state","option-value":"state_id",class:"w-full mx-3"},null,8,["modelValue","options"]),(J=l.value)!=null&&J.state_id?(c(),m("div",ze,y(l.value.state_id[0]),1)):g("",!0)]),s("div",Ee,[Me,v(t,{modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=u=>k.value=u),editable:"",options:S.value,optionLabel:"name","option-value":"id",class:"w-full mx-3"},null,8,["modelValue","options"]),(K=l.value)!=null&&K.state_id?(c(),m("div",Oe,y(l.value.state_id[0]),1)):g("",!0)])])]),s("div",null,[v(L,{id:"password",onUploader:le,accept:"image/*",required:"true",multiple:"true","custom-upload":!0,autofocus:""},{empty:ee(()=>{var u,X,Y;return[z.value.value!=""?(c(!0),m(oe,{key:0},ae(j.value,$=>(c(),m("img",{src:$,class:"w-[200px] h-[90px] mb-3"},null,8,Ge))),256)):(X=(u=n.value)==null?void 0:u.media)!=null&&X.length?(c(!0),m(oe,{key:1},ae((Y=n.value)==null?void 0:Y.media,$=>(c(),m("img",{src:$.original_url,class:"w-[200px] h-[90px] mb-3"},null,8,He))),256)):g("",!0)]}),_:1}),(W=l.value)!=null&&W.images?(c(),m("div",Pe,y(l.value.images[0]),1)):g("",!0)]),s("div",Qe,[s("div",Je,[Ke,v(C,{modelValue:_.value,"onUpdate:modelValue":e[10]||(e[10]=u=>_.value=u)},null,8,["modelValue"])]),s("div",We,[Xe,v(C,{modelValue:f.value,"onUpdate:modelValue":e[11]||(e[11]=u=>f.value=u)},null,8,["modelValue"])])]),v(N,{type:"submit",label:"Submit",class:"mt-3"})],40,ve)]),v(A)]}),_:1})}}};export{ea as default};
