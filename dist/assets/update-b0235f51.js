import{p as Y,r as s,u as X,H as A,o as ee,b,d as v,e as i,C as te,w as j,h as a,L as ae,i as d,f as c,t as p,n as m,j as E,k as R,F as O}from"./index-9b6dcbe1.js";import{L as le,O as oe}from"./index.es-474431a2.js";const se={class:"flex justify-center"},ne=["onSubmit"],ue={class:"w-full flex justify-between"},ie=a("h2",{class:"text-xl font-bold"}," Update attracives ",-1),de={class:""},ce=a("label",{for:"password"},"Name ",-1),re={key:0,class:"mt-1 mb-5 text-red-500"},ve={class:""},me=a("label",{for:"password"},"Description ",-1),pe={key:0,class:"mt-1 mb-5 text-red-500"},_e={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},ge={class:""},ye=a("label",{for:"password"},"Lang ",-1),fe={key:0,class:"mt-1 mb-5 text-red-500"},be={class:""},he=a("label",{for:"password"},"Late ",-1),xe={key:0,class:"mt-1 mb-5 text-red-500"},we={class:"flex justify-between mt-4 w-[80%]"},Ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},Le=a("p",{class:"py-2 mx-2"},"Country",-1),Ue={key:0,class:"mt-1 mb-5 text-red-500"},ke=a("p",{class:"py-2 my-auto mx-3"},"City ",-1),je={key:0,class:"mt-1 mb-5 text-red-500"},Se=a("div",{class:"flex justify-center my-5"},null,-1),Te=a("label",{class:"py-2"},"Upload images",-1),Ce=["src"],De=["src"],Be={key:0,class:"mt-1 mb-5 text-red-500"},ze={setup(Fe){const Q=Y(),l=s({name:"",description:"",long:"",lat:"",images:[],aval_status:!0,info_status:!0}),$=s({lat:20,lng:20});s([{lat:37.772,lng:-122.214},{lat:21.291,lng:-157.821},{lat:-18.142,lng:178.431},{lat:-27.467,lng:153.027}]);const g=s(""),V=s([]),h=s(""),S=X(),q=s(0),L=s([]),T=s(""),U=s([]),o=s(""),u=s({});s(0),s(0);const y=s([]),M=s([{name:"English",value:"gb"},{name:"Arabic",value:"sa"},{name:"Azerbaijan",value:"az"},{name:"Georgia",value:"ge"},{name:"Russia",value:"ru"},{name:"Turkey",value:"tr"}]),_=s("gb"),W=e=>{l.value.long=e.hb.x,l.value.lat=e.hb.y,console.log(e.hb.x)},Z=e=>{console.log(e.files[0]),y.value=e.files,T.value=e.files;for(let t=0;t<y.value.length;t++)U.value.push(URL.createObjectURL(y.value[t]));console.log(U.value)},G=()=>{const e=new FormData;for(let t=0;t<y.value.length;t++)e.append("images[]",y.value[t]);e.append("name",l.value.name),e.append("description",l.value.description),e.append("country_id",g.value),e.append("state_id",h.value),e.append("long",l.value.long),e.append("lat",l.value.lat),b.defaults.headers.common.local=_.value,b.post(`/api/attracives/${u.value.id}/update`,e).then(t=>{Q.add({severity:"success",summary:"Successful",detail:"attracives  update",life:3e3}),o.value=[],q.value=1;let r=u.value.media;u.value=t.data.attractives,u.value.media=r}).catch(t=>{o.value=t.response.data.errors,console.log(o.value)})};return A(g,async(e,t)=>{console.log("hello "),b.get(`/api/state/${e}`).then(r=>{V.value=r.data.states,console.log(V.value)})}),A(_,async(e,t)=>{var r,x,w,f;console.log(u.value),l.value.name=((r=u.value)==null?void 0:r.name[e])==null?"":(x=u.value)==null?void 0:x.name[e],l.value.description=((w=u.value)==null?void 0:w.description[e])==null?"":(f=u.value)==null?void 0:f.description[e]}),ee(()=>{b.get("/api/countries").then(e=>{L.value=e.data.countries,console.log(L.value)}),console.log(S.params.id),b.get(`/api/attracives/${S.params.id}`).then(e=>{console.log(e.data.message),l.value.name=e.data.attractiveLocation.name[_.value],l.value.description=e.data.attractiveLocation.description[_.value],g.value=e.data.attractiveLocation.country_id,h.value=e.data.attractiveLocation.city_id,l.value.long=e.data.attractiveLocation.long,l.value.lat=e.data.attractiveLocation.lat,u.value=e.data.attractiveLocation,console.log("asccsa"),console.log(u.value.photos[0])})}),(e,t)=>{const r=v("Dropdown"),x=v("InputText"),w=v("Textarea"),f=v("InputNumber"),H=v("FileUpload"),J=v("Button"),K=v("Toast"),P=v("va-card");return i(),te(P,{class:"card"},{default:j(()=>{var C,D,B,F,N,I,z;return[a("div",se,[a("form",{onSubmit:ae(G,["prevent"]),class:"flex flex-col w-3/4 py-9"},[a("div",ue,[ie,d(r,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=n=>_.value=n),editable:"",options:M.value,optionLabel:"name","option-value":"value",class:"w-36 mx-3"},null,8,["modelValue","options"])]),a("div",de,[ce,d(x,{modelValue:l.value.name,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value.name=n),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(C=o.value)!=null&&C.name?(i(),c("div",re,p(o.value.name[0]),1)):m("",!0)]),a("div",ve,[me,d(w,{rows:"5",cols:"30",modelValue:l.value.description,"onUpdate:modelValue":t[2]||(t[2]=n=>l.value.description=n),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(D=o.value)!=null&&D.description?(i(),c("div",pe,p(o.value.description[0]),1)):m("",!0)]),a("div",_e,[a("div",null,[d(E(oe),{class:"my-3","api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",onClick:W,style:{width:"100%",height:"300px"},center:$.value,zoom:2},{default:j(()=>[d(E(le),{options:e.flightPath},null,8,["options"])]),_:1},8,["center"])]),a("div",null,[a("div",ge,[ye,d(f,{readonly:"true",modelValue:l.value.long,"onUpdate:modelValue":t[3]||(t[3]=n=>l.value.long=n),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(B=o.value)!=null&&B.long?(i(),c("div",fe,p(o.value.long[0]),1)):m("",!0)]),a("div",be,[he,d(f,{readonly:"true",modelValue:l.value.lat,"onUpdate:modelValue":t[4]||(t[4]=n=>l.value.lat=n),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(F=o.value)!=null&&F.lat?(i(),c("div",xe,p(o.value.lat[0]),1)):m("",!0)]),a("div",we,[a("div",Ve,[a("div",null,[Le,d(r,{modelValue:g.value,"onUpdate:modelValue":t[5]||(t[5]=n=>g.value=n),editable:"",options:L.value,optionLabel:"country","option-value":"country_id",class:"w-44 mx-3"},null,8,["modelValue","options"]),(N=o.value)!=null&&N.country_id?(i(),c("div",Ue,p(o.value.country_id[0]),1)):m("",!0)]),a("div",null,[ke,d(r,{modelValue:h.value,"onUpdate:modelValue":t[6]||(t[6]=n=>h.value=n),editable:"",options:V.value,optionLabel:"state","option-value":"state_id",class:"w-44 mx-3"},null,8,["modelValue","options"]),(I=o.value)!=null&&I.city_id?(i(),c("div",je,p(o.value.city_id[0]),1)):m("",!0)])])])])]),Se,Te,d(H,{id:"password",onUploader:Z,accept:"image/*",required:"true",multiple:"true","custom-upload":!0,autofocus:""},{empty:j(()=>{var n;return[T.value.value!=""?(i(!0),c(O,{key:0},R(U.value,k=>(i(),c("img",{src:k,class:"w-[200px] h-[90px] mb-3"},null,8,Ce))),256)):m("",!0),(i(!0),c(O,null,R((n=u.value)==null?void 0:n.photos,k=>(i(),c("img",{src:k,class:"w-[200px] h-[90px] mb-3"},null,8,De))),256))]}),_:1}),(z=o.value)!=null&&z.images?(i(),c("div",Be,p(o.value.images[0]),1)):m("",!0),d(J,{style:"",type:"submit",label:"Submit",class:"mt-3 focus:ring-0"})],40,ne)]),d(K)]}),_:1})}}};export{ze as default};
